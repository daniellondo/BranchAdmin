<div class="container">
  <h3 mat-dialog-title>BranchId: {{data.branchId}}</h3>

  <form class="mat-dialog-content" (ngSubmit)="submit" #formControl="ngForm">
    <div class="form">
      <mat-form-field color="accent">
        <input
          matInput
          #input
          class="form-control"
          placeholder="Code"
          [(ngModel)]="data.code"
          name="code"
          required
          type="number"
        />
        <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
      </mat-form-field>
    </div>

    <div class="form">
      <mat-form-field color="accent">
        <input
          matInput
          #inputstate
          class="form-control"
          placeholder="Description"
          [(ngModel)]="data.description"
          name="description"
          maxlength="250"
          required
        />
        <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
        <mat-hint align="end">{{inputstate.value?.length || 0}}/250</mat-hint>
      </mat-form-field>
    </div>

    <div class="form">
      <mat-form-field color="accent">
        <input
          matInput
          #inputstate
          class="form-control"
          placeholder="Address"
          [(ngModel)]="data.address"
          name="address"
          maxlength="250"
          required
        />
        <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
        <mat-hint align="end">{{inputstate.value?.length || 0}}/250</mat-hint>
      </mat-form-field>
    </div>

    <div class="form">
      <mat-form-field color="accent">
        <input
          matInput
          #inputstate
          class="form-control"
          placeholder="Identification"
          [(ngModel)]="data.identification"
          name="identification"
          maxlength="50"
          required
        />
        <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
        <mat-hint align="end">{{inputstate.value?.length || 0}}/50</mat-hint>
      </mat-form-field>
    </div>

    <div class="form">
      <mat-form-field color="accent">
        <mat-label>Choose a date (MM/DD/YYYY)</mat-label>
        <input
          matInput
          [matDatepicker]="picker"
          placeholder="Creation Date"
          [(ngModel)]="data.createDate"
          name="createDate"
          [min]="minDate"
          style="width: 20%"
        />
        <mat-datepicker-toggle matIconSuffix [for]="picker">
          <mat-icon matDatepickerToggleIcon>calendar_month</mat-icon>
        </mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>

    <div class="form">
      <mat-form-field>
        <mat-label>Currency</mat-label>
        <mat-select [(ngModel)]="selectedCurrency" name="currencyId" required>
          <mat-option
            *ngFor="let currency of currencies"
            [value]="currency.currencyId"
          >
            {{currency.currency}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div mat-dialog-actions>
      <button
        mat-button
        [type]="submit"
        [disabled]="!formControl.valid"
        [mat-dialog-close]="1"
        (click)="stopEdit()"
      >
        Save
      </button>
      <button mat-button (click)="onNoClick()" tabindex="-1">Cancel</button>
    </div>
  </form>
</div>
